(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[807],{2641:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trip/[id]",function(){return i(2654)}])},2654:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return o}});var n=i(5893),s=i(7294),a=i(1163),l=i(7054),r=t=>{let{activities:e}=t,{isLoaded:i}=(0,l.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyBv8Ybuxu1jHzKT4786ScgG6TU56KgJO7I"}),s=e.length>0?{lat:e[0].latitude,lng:e[0].longitude}:{lat:0,lng:0},a=e.map(t=>({lat:t.latitude,lng:t.longitude}));return i?(0,n.jsxs)(l.b6,{mapContainerStyle:{width:"100%",height:"400px"},center:s,zoom:10,children:[e.map(t=>(0,n.jsx)(l.Jx,{position:{lat:t.latitude,lng:t.longitude},title:t.title},t.id)),(0,n.jsx)(l.aH,{path:a,options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2}})]}):(0,n.jsx)("div",{children:"Loading map..."})},o=()=>{let{id:t}=(0,a.useRouter)().query,[e,i]=(0,s.useState)(null),[l,o]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&h(t)},[t]);let h=async t=>{try{let e=await fetch("/api/trips/".concat(t));if(!e.ok)throw Error("Failed to fetch trip data");let n=await e.json();i(n)}catch(t){d("Error fetching trip data. Please try again.")}finally{o(!1)}};return l?(0,n.jsx)("div",{children:"Loading..."}):c?(0,n.jsx)("div",{children:c}):e?(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-4",children:e.name}),(0,n.jsxs)("p",{className:"mb-4",children:[new Date(e.startDate).toLocaleDateString()," to ",new Date(e.endDate).toLocaleDateString()]}),(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Trip Map"}),(0,n.jsx)(r,{activities:e.activities})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Activities"}),(0,n.jsx)("ul",{className:"space-y-4",children:e.activities.map(t=>(0,n.jsxs)("li",{className:"border p-4 rounded-lg",children:[(0,n.jsx)("h3",{className:"font-semibold text-lg",children:t.title}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Time:"})," ",t.startTime," - ",t.endTime]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Location:"})," ",t.location]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Category:"})," ",t.category]})]},t.id))})]})]}):(0,n.jsx)("div",{children:"Trip not found"})}},1163:function(t,e,i){t.exports=i(3079)}},function(t){t.O(0,[255,888,774,179],function(){return t(t.s=2641)}),_N_E=t.O()}]);